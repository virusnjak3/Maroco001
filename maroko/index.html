<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Maroko — Онлайн-магазин одягу</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        
        :root {
            --primary-color: #7a1f81;
            --secondary-color: #e0b0ff;
            --accent-color: #ffc000;
            --background-color: #f8f4ff;
            --text-color: #333;
            --light-text-color: #f1f1f1;
            --dark-color: #1a1a1a;
            --dark-light: #2c3e50;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            line-height: 1.6;
        }

        
        header {
            position: sticky;
            top: 0;
            width: 100%;
            background: rgba(122, 31, 129, 0.9);
            backdrop-filter: blur(10px);
            color: var(--light-text-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 24px;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            transition: background-color 0.3s ease, top 0.3s ease-in-out;
        }
        .header-scrolled {
            background: var(--primary-color);
        }
        .header-left {
            display: flex;
            align-items: center;
            gap: 30px;
        }
        .logo-link {
            text-decoration: none;
            color: white;
        }
        .logo {
            font-family: 'Poppins', sans-serif;
            font-size: 1.8em;
            font-weight: 700;
        }
        .nav-link {
            color: var(--light-text-color);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
            position: relative;
        }
        .nav-link::after {
            content: "";
            position: absolute;
            bottom: -4px;
            left: 50%;
            transform: translateX(-50%);
            width: 0%;
            height: 2px;
            background-color: var(--accent-color);
            transition: width 0.3s ease-in-out;
        }
        .nav-link:hover::after {
            width: 100%;
        }
        .header-right {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .header-icon-btn {
            background-color: var(--accent-color);
            color: var(--primary-color);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            cursor: pointer;
            position: relative;
            user-select: none;
            transition: transform 0.2s ease, background-color 0.3s;
        }
        .header-icon-btn:hover {
            transform: scale(1.1);
            background-color: #ffda6a;
        }
        .header-icon-btn i {
            font-size: 1.2em;
        }
        .item-count {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: var(--primary-color);
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 0.7em;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .language-switcher {
            display: flex;
            gap: 5px;
        }
        .lang-btn {
            background: transparent;
            border: 1px solid var(--light-text-color);
            color: var(--light-text-color);
            padding: 5px 8px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.2s, color 0.2s;
        }
        .lang-btn:hover {
            background-color: var(--secondary-color);
            color: var(--primary-color);
        }
        .lang-btn.active {
            background-color: var(--accent-color);
            color: var(--primary-color);
            border-color: var(--accent-color);
        }
        #searchInput {
            padding: 10px;
            border: none;
            border-radius: 20px;
            width: 200px;
            background-color: rgba(255, 255, 255, 0.2);
            color: var(--light-text-color);
            transition: width 0.3s, background-color 0.3s;
        }
        #searchInput::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }
        #searchInput:focus {
            width: 250px;
            outline: none;
            background-color: rgba(255, 255, 255, 0.4);
        }

        
        #hero {
            background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('ofic2.webp') no-repeat center center/cover;
            height: 600px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            text-align: center;
            position: relative;
            animation: fadeIn 1s ease-in-out;
        }
        .hero-content {
            z-index: 10;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100%;
        }
        #hero h1 {
            font-family: 'Poppins', sans-serif;
            font-size: 4em;
            text-shadow: 2px 2px 8px rgba(0,0,0,0.5);
            animation: slideInFromTop 1s ease-in-out;
        }
        #hero p {
            font-size: 1.8em;
            font-weight: 300;
            animation: slideInFromBottom 1s ease-in-out;
            color: #ffda6a;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.4);
        }
        .hero-btn {
            margin-top: 30px;
            padding: 15px 30px;
            border: none;
            background: linear-gradient(45deg, var(--accent-color), #ff9900);
            color: var(--dark-color);
            font-size: 1.1em;
            font-weight: bold;
            border-radius: 50px;
            text-decoration: none;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 192, 0, 0.4);
        }
        .hero-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(255, 192, 0, 0.6);
        }

        
        #newsletter {
            padding: 50px 20px;
            background: linear-gradient(135deg, var(--primary-color), var(--dark-light));
            color: white;
            text-align: center;
        }
        #newsletter h2 {
            font-family: 'Poppins', sans-serif;
            font-size: 2.2em;
            margin-bottom: 10px;
        }
        #newsletter p {
            font-size: 1.1em;
            margin-bottom: 25px;
        }
        #newsletter form {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }
        #newsletter input[type="email"] {
            padding: 12px 20px;
            border: none;
            border-radius: 50px;
            width: 300px;
            font-size: 1em;
            background-color: rgba(255, 255, 255, 0.9);
            color: var(--dark-color);
        }
        #newsletter input[type="email"]::placeholder {
            color: #aaa;
        }
        #newsletter button {
            padding: 12px 25px;
            border: none;
            border-radius: 50px;
            background: var(--accent-color);
            color: var(--dark-color);
            font-weight: bold;
            font-size: 1em;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
        }
        #newsletter button:hover {
            background-color: #ffda6a;
            transform: translateY(-2px);
        }

        
        section {
            padding: 60px 20px;
        }
        .section-title {
            text-align: center;
            color: var(--primary-color);
            font-family: 'Poppins', sans-serif;
            font-size: 2.5em;
            margin-bottom: 40px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }
        
        #productControls {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
        }
        #productControls select,
        #productControls button {
            padding: 10px 15px;
            border: 1px solid var(--primary-color);
            border-radius: 8px;
            cursor: pointer;
            background-color: white;
            color: var(--primary-color);
            font-weight: 500;
            transition: background-color 0.3s, color 0.3s;
        }
        #productControls button:hover,
        #productControls select:hover {
            background-color: var(--primary-color);
            color: white;
        }
        #productControls button.active {
            background-color: var(--primary-color);
            color: white;
        }

        #productGrid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            padding: 20px;
        }
        .product {
            background-color: #fff;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            user-select: none;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            border: 1px solid #e1d7f0;
            position: relative;
        }
        .product:hover {
            transform: translateY(-8px);
            box-shadow: 0 8px 20px rgba(122, 31, 129, 0.15);
        }
        .product img {
            width: 100%;
            height: 200px;
            object-fit: contain;
            margin-bottom: 15px;
            cursor: pointer;
        }
        .product h3 {
            font-family: 'Poppins', sans-serif;
            color: var(--primary-color);
            font-size: 1.3em;
            margin-bottom: 8px;
        }
        .product p {
            margin: 10px 0 20px;
            font-weight: 500;
            font-size: 1.1em;
            color: #555;
        }
        .product .add-to-cart {
            background-color: var(--primary-color);
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s, transform 0.2s;
        }
        .product .add-to-cart:hover {
            background-color: var(--secondary-color);
            color: var(--primary-color);
            transform: scale(1.05);
        }
        .wishlist-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            font-size: 24px;
            color: #ccc;
            cursor: pointer;
            transition: color 0.3s, transform 0.2s;
        }
        .wishlist-btn.active {
            color: var(--accent-color);
        }
        .wishlist-btn:hover {
            color: var(--accent-color);
            transform: scale(1.1);
        }

        
        #productDetailModal .product-image {
            width: 100%;
            max-height: 400px;
            object-fit: contain;
            margin-bottom: 20px;
        }
        #productDetailModal .detail-price {
            font-size: 1.5em;
            font-weight: bold;
            color: var(--primary-color);
            margin-top: 10px;
        }
        #productDetailModal .detail-desc {
            margin: 20px 0;
        }
        .product-options {
            margin: 20px 0;
            display: flex;
            gap: 20px;
            align-items: center;
        }
        .option-group {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .option-group label {
            font-weight: bold;
            color: var(--primary-color);
        }
        .color-option {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            border: 2px solid transparent;
            cursor: pointer;
            transition: transform 0.2s, border-color 0.2s;
        }
        .color-option.active {
            border-color: var(--primary-color);
            transform: scale(1.1);
        }
        .size-option {
            padding: 8px 12px;
            border: 1px solid #ccc;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.2s, color 0.2s;
        }
        .size-option.active {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        #productDetailModal .add-to-cart-btn {
            background-color: var(--primary-color);
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s, transform 0.2s;
        }
        #productDetailModal .add-to-cart-btn:hover {
            background-color: var(--secondary-color);
            color: var(--primary-color);
            transform: scale(1.05);
        }

        
        .reviews-section {
            margin-top: 30px;
            border-top: 1px solid #eee;
            padding-top: 20px;
        }
        .reviews-section h3 {
            color: var(--primary-color);
            font-family: 'Poppins', sans-serif;
            margin-bottom: 15px;
        }
        .review-form {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .review-form input,
        .review-form textarea {
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 8px;
        }
        .review-form button {
            background-color: var(--primary-color);
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
        }
        .review-list {
            margin-top: 20px;
        }
        .review-item {
            border-bottom: 1px solid #eee;
            padding: 10px 0;
        }
        .review-item strong {
            display: block;
            margin-bottom: 5px;
        }
        .review-item .rating-stars {
            color: var(--accent-color);
        }

        
        #about {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 80px 20px;
        }
        .about-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 50px;
            flex-wrap: wrap;
            text-align: left;
        }
        .about-content {
            flex: 1 1 400px;
            max-width: 600px;
        }
        .about-content h2 {
            color: var(--accent-color);
            font-family: 'Poppins', sans-serif;
            font-size: 2.5em;
            margin-bottom: 20px;
        }
        .about-content p {
            font-size: 1.1em;
        }
        .about-image {
            flex: 1 1 400px;
            text-align: center;
        }
        .about-image img {
            max-width: 100%;
            height: auto;
            border-radius: 12px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }
        footer {
            background-color: var(--dark-color);
            color: white;
            text-align: center;
            padding: 20px;
            margin-top: auto;
        }

        
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(5px);
            animation: fadeIn 0.3s ease;
            overflow-y: auto;
        }
        .modal-content {
            background-color: white;
            margin: 8% auto;
            padding: 30px;
            border-radius: 12px;
            width: 90%;
            max-width: 550px;
            position: relative;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
            max-height: 80vh;
            overflow-y: auto;
            animation: slideIn 0.4s ease-out;
        }
        #productDetailModal .modal-content {
            max-width: 700px;
        }
        .close {
            position: absolute;
            top: 15px;
            right: 25px;
            color: #aaa;
            font-size: 30px;
            font-weight: bold;
            transition: color 0.3s;
        }
        .close:hover {
            color: var(--primary-color);
        }
        #supportForm input,
        #supportForm textarea {
            width: 100%;
            padding: 12px;
            margin-top: 15px;
            border: 1px solid #ccc;
            border-radius: 8px;
            font-size: 1em;
            transition: border-color 0.3s;
        }
        #supportForm input:focus,
        #supportForm textarea:focus {
            border-color: var(--primary-color);
            outline: none;
        }
        #supportForm button {
            margin-top: 20px;
            width: 100%;
            background-color: var(--primary-color);
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
        }
        #supportForm button:hover {
            background-color: #5d1a63;
            transform: translateY(-2px);
        }
        #supportMessage {
            font-weight: bold;
            margin-top: 15px;
            text-align: center;
            animation: slideUp 0.4s;
        }
        #cartItems div,
        #wishlistItems div {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #eee;
            align-items: center;
        }
        #cartItems div:last-child,
        #wishlistItems div:last-child {
            border-bottom: none;
        }
        .qty-controls button,
        .remove-from-wishlist {
            background-color: var(--secondary-color);
            color: var(--primary-color);
            border: none;
            padding: 4px 10px;
            margin: 0 5px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            transition: transform 0.2s;
        }
        .qty-controls button:hover,
        .remove-from-wishlist:hover {
            transform: scale(1.1);
        }
        #orderBtn {
            background-color: var(--primary-color);
            color: white;
            padding: 15px;
            border-radius: 8px;
            font-size: 1.1em;
            transition: background-color 0.3s, transform 0.2s;
            width: 100%;
            margin-top: 20px;
        }
        #orderBtn:hover {
            background-color: var(--secondary-color);
            color: var(--primary-color);
            transform: translateY(-2px);
        }
        .rating {
            direction: rtl;
        }
        .rating input {
            display: none;
        }
        .rating label {
            color: #ccc;
            transition: color 0.3s;
        }
        .rating label:before {
            content: '★';
            font-size: 35px;
        }
        .rating input:checked ~ label,
        .rating label:hover,
        .rating label:hover ~ label {
            color: var(--accent-color);
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes slideIn {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        @keyframes slideUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        @keyframes slideInFromTop {
            0% { transform: translateY(-100px); opacity: 0; }
            100% { transform: translateY(0); opacity: 1; }
        }
        @keyframes slideInFromBottom {
            0% { transform: translateY(100px); opacity: 0; }
            100% { transform: translateY(0); opacity: 1; }
        }
        @media (max-width: 768px) {
            header {
                flex-direction: column;
                gap: 10px;
            }
            .header-left, .header-right {
                width: 100%;
                justify-content: center;
                gap: 10px;
            }
            .nav-link {
                font-size: 0.9em;
            }
            #searchInput {
                width: 100%;
                text-align: center;
            }
            #hero {
                height: 400px;
            }
            #hero h1 {
                font-size: 2.5em;
            }
            #hero p {
                font-size: 1.2em;
            }
            .section-title {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>

<header id="mainHeader">
    <div class="header-left">
        <a href="#" class="logo-link"><div class="logo">Maroko</div></a>
        <a href="#products" class="nav-link" data-i18n="navProducts">Товари</a>
        <a href="#about" class="nav-link" data-i18n="navAbout">Про нас</a>
        <a class="nav-link" onclick="openModal('supportModal')" data-i18n="navSupport">Підтримка</a>
    </div>
    <div class="header-right">
        <div class="language-switcher">
            <button class="lang-btn" data-lang="uk">UA</button>
            <button class="lang-btn" data-lang="en">EN</button>
        </div>
        <div class="header-icon-btn" onclick="openModal('wishlistModal')" aria-label="Переглянути обране" title="Переглянути обране">
            <i class="fa-solid fa-heart"></i><span id="wishlistCount" class="item-count">0</span>
        </div>
        <div class="header-icon-btn" onclick="openModal('cartModal')" aria-label="Переглянути корзину" title="Переглянути корзину">
            <i class="fa-solid fa-cart-shopping"></i><span id="cartCount" class="item-count">0</span>
        </div>
        <input type="text" id="searchInput" placeholder="Пошук товарів..." data-i18n-placeholder="searchPlaceholder" />
    </div>
</header>

<section id="hero">
    <div class="hero-content">
        <h1 data-i18n="heroTitle">Мода, що надихає</h1>
        <p data-i18n="heroSubtitle">Створюй свій стиль разом з Maroko</p>
        <a href="#products" class="hero-btn" data-i18n="heroBtn">До товарів</a>
    </div>
</section>

<section id="products">
    <h2 class="section-title" data-i18n="productsTitle">Наші товари</h2>

    <div id="productControls">
        <select id="sortSelect" data-i18n-sort-placeholder="sortPlaceholder">
            <option value="default" data-i18n="sortByDefault">За замовчуванням</option>
            <option value="price-asc" data-i18n="sortByPriceAsc">Ціна (від низької до високої)</option>
            <option value="price-desc" data-i18n="sortByPriceDesc">Ціна (від високої до низької)</option>
        </select>
        <button data-filter="all" class="active" data-i18n="filterAll">Всі</button>
        <button data-filter="men" data-i18n="filterMen">Чоловіче</button>
        <button data-filter="women" data-i18n="filterWomen">Жіноче</button>
    </div>

    <div id="productGrid">
        <div class="product" data-name="Джинси" data-price="600" data-category="men" data-i18n-name="jeans" data-id="jeans">
            <button class="wishlist-btn" onclick="toggleWishlist(this, 'jeans')"><i class="fa-regular fa-heart"></i></button>
            <img src="jina-removebg-preview.png" alt="Джинси" onclick="openProductDetail('jeans')" />
            <h3 data-i18n="jeans">Джинси</h3>
            <p>600 грн</p>
            <button class="add-to-cart" onclick="addToCart('jeans')" data-i18n="addToCartBtn">Додати в кошик</button>
        </div>
        <div class="product" data-name="Зимова куртка" data-price="1200" data-category="men" data-i18n-name="winterJacket" data-id="winterJacket">
            <button class="wishlist-btn" onclick="toggleWishlist(this, 'winterJacket')"><i class="fa-regular fa-heart"></i></button>
            <img src="cop-removebg-preview.png" alt="Зимова куртка" onclick="openProductDetail('winterJacket')" />
            <h3 data-i18n="winterJacket">Зимова куртка</h3>
            <p>1200 грн</p>
            <button class="add-to-cart" onclick="addToCart('winterJacket')" data-i18n="addToCartBtn">Додати в кошик</button>
        </div>
        <div class="product" data-name="Футболка" data-price="200" data-category="women" data-i18n-name="tshirt" data-id="tshirt">
            <button class="wishlist-btn" onclick="toggleWishlist(this, 'tshirt')"><i class="fa-regular fa-heart"></i></button>
            <img src="dop-removebg-preview.png" alt="Футболка" onclick="openProductDetail('tshirt')" />
            <h3 data-i18n="tshirt">Футболка</h3>
            <p>200 грн</p>
            <button class="add-to-cart" onclick="addToCart('tshirt')" data-i18n="addToCartBtn">Додати в кошик</button>
        </div>
        <div class="product" data-name="Рюкзак" data-price="1100" data-category="men" data-i18n-name="backpack" data-id="backpack">
            <button class="wishlist-btn" onclick="toggleWishlist(this, 'backpack')"><i class="fa-regular fa-heart"></i></button>
            <img src="Backpack-removebg-preview.png" alt="Рюкзак" onclick="openProductDetail('backpack')" />
            <h3 data-i18n="backpack">Рюкзак</h3>
            <p>1100 грн</p>
            <button class="add-to-cart" onclick="addToCart('backpack')" data-i18n="addToCartBtn">Додати в кошик</button>
        </div>
        <div class="product" data-name="Шарф" data-price="350" data-category="women" data-i18n-name="scarf" data-id="scarf">
            <button class="wishlist-btn" onclick="toggleWishlist(this, 'scarf')"><i class="fa-regular fa-heart"></i></button>
            <img src="Scarf-removebg-preview.png" alt="Шарф" onclick="openProductDetail('scarf')" />
            <h3 data-i18n="scarf">Шарф</h3>
            <p>350 грн</p>
            <button class="add-to-cart" onclick="addToCart('scarf')" data-i18n="addToCartBtn">Додати в кошик</button>
        </div>
        <div class="product" data-name="Рукавички" data-price="250" data-category="men" data-i18n-name="gloves" data-id="gloves">
            <button class="wishlist-btn" onclick="toggleWishlist(this, 'gloves')"><i class="fa-regular fa-heart"></i></button>
            <img src="Gloves-removebg-preview.png" alt="Рукавички" onclick="openProductDetail('gloves')" />
            <h3 data-i18n="gloves">Рукавички</h3>
            <p>250 грн</p>
            <button class="add-to-cart" onclick="addToCart('gloves')" data-i18n="addToCartBtn">Додати в кошик</button>
        </div>
        <div class="product" data-name="Пальто" data-price="2500" data-category="men" data-i18n-name="coat" data-id="coat">
            <button class="wishlist-btn" onclick="toggleWishlist(this, 'coat')"><i class="fa-regular fa-heart"></i></button>
            <img src="Coat-removebg-preview.png" alt="Пальто" onclick="openProductDetail('coat')" />
            <h3 data-i18n="coat">Пальто</h3>
            <p>2500 грн</p>
            <button class="add-to-cart" onclick="addToCart('coat')" data-i18n="addToCartBtn">Додати в кошик</button>
        </div>
        <div class="product" data-name="Сукня" data-price="1300" data-category="women" data-i18n-name="dress" data-id="dress">
            <button class="wishlist-btn" onclick="toggleWishlist(this, 'dress')"><i class="fa-regular fa-heart"></i></button>
            <img src="Dress-removebg-preview.png" alt="Сукня" onclick="openProductDetail('dress')" />
            <h3 data-i18n="dress">Сукня</h3>
            <p>1300 грн</p>
            <button class="add-to-cart" onclick="addToCart('dress')" data-i18n="addToCartBtn">Додати в кошик</button>
        </div>
    </div>
</section>

<section id="newsletter">
    <h2 data-i18n="newsletterTitle">Отримуйте найкращі пропозиції</h2>
    <p data-i18n="newsletterSubtitle">Підпишіться на нашу розсилку та будьте в курсі всіх новинок та акцій.</p>
    <form>
        <input type="email" placeholder="Введіть свій email" required data-i18n-placeholder="newsletterPlaceholder" />
        <button type="submit" data-i18n="subscribeBtn">Підписатись</button>
    </form>
</section>

<section id="about">
    <div class="about-container">
        <div class="about-content">
            <h2 data-i18n="aboutTitle">Про нас</h2>
            <p data-i18n="aboutText">
                Ми — український онлайн-магазин одягу, який пропонує якісні речі за доступною ціною. Працюємо напряму з постачальниками без посередників. Нашою місією є зробити стиль доступним для кожного.
            </p>
        </div>
        <div class="about-image">
            <img src="disco.webp" alt="Про нас" />
        </div>
    </div>
</section>

<div id="supportModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="supportTitle">
    <div class="modal-content">
        <button class="close" aria-label="Закрити" onclick="closeModal('supportModal')">&times;</button>
        <h2 id="supportTitle" style="text-align: center; color: var(--primary-color);" data-i18n="supportTitle">Підтримка</h2>
        <form id="supportForm" onsubmit="submitSupport(event)">
            <input type="text" placeholder="Ваше ім’я" required data-i18n-placeholder="yourName" />
            <input type="email" placeholder="Ваш email" required data-i18n-placeholder="yourEmail" />
            <textarea rows="4" placeholder="Ваше повідомлення" required data-i18n-placeholder="yourMessage"></textarea>
            <button type="submit" data-i18n="sendBtn">Надіслати</button>
            <div id="supportMessage"></div>
        </form>
        <div id="supportRatingContainer" style="display: none; text-align: center; margin-top: 20px;">
            <p data-i18n="rateService">Будь ласка, оцініть наш сервіс:</p>
            <div class="rating" style="display: inline-block;">
                <input value="5" name="support_rating" id="s_star5" type="radio">
                <label for="s_star5"></label>
                <input value="4" name="support_rating" id="s_star4" type="radio">
                <label for="s_star4"></label>
                <input value="3" name="support_rating" id="s_star3" type="radio">
                <label for="s_star3"></label>
                <input value="2" name="support_rating" id="s_star2" type="radio">
                <label for="s_star2"></label>
                <input value="1" name="support_rating" id="s_star1" type="radio">
                <label for="s_star1"></label>
            </div>
        </div>
    </div>
</div>

<div id="cartModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="cartTitle">
    <div class="modal-content">
        <button class="close" aria-label="Закрити" onclick="closeModal('cartModal')">&times;</button>
        <h2 id="cartTitle" style="text-align: center; color: var(--primary-color);" data-i18n="cartTitle">Ваша корзина</h2>
        <div id="cartItems" aria-live="polite" aria-atomic="true">
            <p class="empty-cart" data-i18n="emptyCart">Корзина порожня</p>
        </div>
        <div id="orderTotal" data-i18n-prefix="total"></div>
        <button id="orderBtn" onclick="placeOrder()" style="display:none;" data-i18n="orderBtn">Замовити</button>
    </div>
</div>

<div id="wishlistModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="wishlistTitle">
    <div class="modal-content">
        <button class="close" aria-label="Закрити" onclick="closeModal('wishlistModal')">&times;</button>
        <h2 id="wishlistTitle" style="text-align: center; color: var(--primary-color);" data-i18n="wishlistTitle">Обране</h2>
        <div id="wishlistItems" aria-live="polite" aria-atomic="true">
            <p class="empty-wishlist" data-i18n="emptyWishlist">Список обраного порожній</p>
        </div>
    </div>
</div>

<div id="ratingModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="ratingTitle">
    <div class="modal-content">
        <button class="close" aria-label="Закрити" onclick="closeModal('ratingModal')">&times;</button>
        <h2 id="ratingTitle" style="text-align: center; color: var(--primary-color);" data-i18n="rateTitle">Оцініть нас!</h2>
        <p style="text-align: center;" data-i18n="rateServiceText">Як би ви оцінили наш сервіс?</p>
        <div class="rating" style="display: flex; justify-content: center;">
            <input value="5" name="rating" id="star5" type="radio">
            <label for="star5"></label>
            <input value="4" name="rating" id="star4" type="radio">
            <label for="star4"></label>
            <input value="3" name="rating" id="star3" type="radio">
            <label for="star3"></label>
            <input value="2" name="rating" id="star2" type="radio">
            <label for="star2"></label>
            <input value="1" name="rating" id="star1" type="radio">
            <label for="star1"></label>
        </div>
        <div id="ratingMessage"></div>
    </div>
</div>

<div id="productDetailModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="productDetailTitle">
    <div class="modal-content">
        <button class="close" aria-label="Закрити" onclick="closeModal('productDetailModal')">&times;</button>
        <h2 id="productDetailTitle" style="text-align: center; color: var(--primary-color);"></h2>
        <img id="productDetailImage" src="" alt="" class="product-image" />
        <p id="productDetailPrice" class="detail-price"></p>
        <p id="productDetailDesc" class="detail-desc"></p>

        <div class="product-options">
            <div class="option-group">
                <label data-i18n="colorOption">Колір:</label>
                <div id="productDetailColors"></div>
            </div>
            <div class="option-group">
                <label data-i18n="sizeOption">Розмір:</label>
                <div id="productDetailSizes"></div>
            </div>
        </div>

        <button id="productDetailAddToCartBtn" class="add-to-cart-btn" data-i18n="addToCartBtn">Додати в кошик</button>

        <div class="reviews-section">
            <h3 data-i18n="reviewsTitle">Відгуки</h3>
            <div id="reviewsList"></div>
            <form class="review-form" onsubmit="submitReview(event)">
                <input type="text" id="reviewerName" data-i18n-placeholder="yourName" placeholder="Ваше ім'я" required>
                <textarea id="reviewerComment" data-i18n-placeholder="yourMessage" placeholder="Ваш відгук" required></textarea>
                <div class="rating" style="direction: ltr;">
                    <input type="radio" id="review-star-5" name="review-rating" value="5" required /><label for="review-star-5"></label>
                    <input type="radio" id="review-star-4" name="review-rating" value="4" /><label for="review-star-4"></label>
                    <input type="radio" id="review-star-3" name="review-rating" value="3" /><label for="review-star-3"></label>
                    <input type="radio" id="review-star-2" name="review-rating" value="2" /><label for="review-star-2"></label>
                    <input type="radio" id="review-star-1" name="review-rating" value="1" /><label for="review-star-1"></label>
                </div>
                <button type="submit" data-i18n="submitReviewBtn">Надіслати відгук</button>
            </form>
        </div>
    </div>
</div>

<footer data-i18n-html="footer"></footer>

<script>
    const cart = {};
    const wishlist = JSON.parse(localStorage.getItem('wishlist')) || {};
    let currentProduct;
    let productsData;
    let productReviews = JSON.parse(localStorage.getItem('productReviews')) || {};
    let selectedSize = '';
    let selectedColor = '';

    const translations = {
        uk: {
            navProducts: 'Товари', navAbout: 'Про нас', navSupport: 'Підтримка',
            searchPlaceholder: 'Пошук товарів...', productsTitle: 'Наші товари',
            addToCartBtn: 'Додати в кошик', jeans: 'Джинси', winterJacket: 'Зимова куртка',
            tshirt: 'Футболка', backpack: 'Рюкзак', scarf: 'Шарф', gloves: 'Рукавички',
            coat: 'Пальто', dress: 'Сукня', aboutTitle: 'Про нас', heroTitle: 'Мода, що надихає',
            heroSubtitle: 'Створюй свій стиль разом з Maroko', heroBtn: 'До товарів',
            newsletterTitle: 'Отримуйте найкращі пропозиції', newsletterSubtitle: 'Підпишіться на нашу розсилку та будьте в курсі всіх новинок та акцій.',
            newsletterPlaceholder: 'Введіть свій email', subscribeBtn: 'Підписатись',
            aboutText: 'Ми — український онлайн-магазин одягу, який пропонує якісні речі за доступною ціною. Працюємо напряму з постачальниками без посередників. Нашою місією є зробити стиль доступним для кожного.',
            supportTitle: 'Підтримка', yourName: 'Ваше ім’я', yourEmail: 'Ваш email',
            yourMessage: 'Ваше повідомлення', sendBtn: 'Надіслати', rateService: 'Будь ласка, оцініть наш сервіс:',
            cartTitle: 'Ваша корзина', emptyCart: 'Корзина порожня', total: 'Всього:',
            orderBtn: 'Замовити', rateTitle: 'Оцініть нас!', rateServiceText: 'Як би ви оцінили наш сервіс?',
            thankYouForSupport: 'Дякуємо за підтримку! Будь ласка, оцініть наш сервіс.',
            thankYouForRating: 'Ви оцінили нас на {rating} зірок! Дякуємо за ваш відгук!',
            orderSuccess: 'Дякуємо за ваше замовлення! Ми з вами зв\'яжемося найближчим часом.',
            wishlistTitle: 'Обране', emptyWishlist: 'Список обраного порожній',
            productDesc: {
                jeans: "Класичні сині джинси з бавовни, ідеально підходять для повсякденного носіння. Доступні у розмірах S, M, L, XL.",
                winterJacket: "Тепла зимова куртка з водонепроникного матеріалу. Відмінний захист від холоду та вітру. Має глибокі кишені та капюшон.",
                tshirt: "Зручна та м'яка футболка з натуральної бавовни. Ідеальний варіант для літніх прогулянок. Доступна в різних кольорах.",
                backpack: "Стильний та місткий рюкзак, ідеальний для навчання та подорожей. Має відділення для ноутбука та кілька зовнішніх кишень.",
                scarf: "М'який та теплий шарф, який додасть елегантності вашому образу. Виготовлений з вовняної суміші. Доступний у трьох кольорах.",
                gloves: "Теплі в'язані рукавички з шерсті. Забезпечують комфорт та тепло в холодну погоду.",
                coat: "Елегантне чоловіче пальто з класичним кроєм. Ідеальний вибір для осінніх та весняних днів.",
                dress: "Легка літня сукня з натурального льону. Зручний та стильний варіант для будь-якої події.",
            },
            sortByDefault: 'За замовчуванням', sortByPriceAsc: 'Ціна (від низької до високої)',
            sortByPriceDesc: 'Ціна (від високої до низької)', filterAll: 'Всі', filterMen: 'Чоловіче',
            filterWomen: 'Жіноче', reviewsTitle: 'Відгуки', submitReviewBtn: 'Надіслати відгук',
            footer: '© 2025 Maroko. Усі права захищені.',
            topDealsTitle: 'Найкращі пропозиції',
            colorOption: 'Колір:',
            sizeOption: 'Розмір:',
            sizeNotSelected: 'Будь ласка, виберіть розмір.',
            colorNotSelected: 'Будь ласка, виберіть колір.',
            addedToCart: ' додано до кошика!'
        },
        en: {
            navProducts: 'Products', navAbout: 'About Us', navSupport: 'Support',
            searchPlaceholder: 'Search for products...', productsTitle: 'Our Products',
            addToCartBtn: 'Add to cart', jeans: 'Jeans', winterJacket: 'Winter Jacket',
            tshirt: 'T-shirt', backpack: 'Backpack', scarf: 'Scarf', gloves: 'Gloves',
            coat: 'Coat', dress: 'Dress', aboutTitle: 'About Us', heroTitle: 'Inspiring Fashion',
            heroSubtitle: 'Create your style with Maroko', heroBtn: 'Shop Now',
            newsletterTitle: 'Get the Best Deals', newsletterSubtitle: 'Subscribe to our newsletter and stay up to date with all news and promotions.',
            newsletterPlaceholder: 'Enter your email', subscribeBtn: 'Subscribe',
            aboutText: 'We are a Ukrainian online clothing store that offers quality clothing at an affordable price. We work directly with suppliers without intermediaries. Our mission is to make style accessible to everyone.',
            supportTitle: 'Support', yourName: 'Your Name', yourEmail: 'Your email',
            yourMessage: 'Your message', sendBtn: 'Send', rateService: 'Please, rate our service:',
            cartTitle: 'Your Cart', emptyCart: 'Your cart is empty', total: 'Total:',
            orderBtn: 'Place order', rateTitle: 'Rate Us!', rateServiceText: 'How would you rate our service?',
            thankYouForSupport: 'Thank you for your support! Please rate our service.',
            thankYouForRating: 'You rated us {rating} stars! Thank you for your feedback!',
            orderSuccess: 'Thank you for your order! We will contact you shortly.',
            wishlistTitle: 'Wishlist', emptyWishlist: 'Your wishlist is empty',
            productDesc: {
                jeans: "Classic blue cotton jeans, perfect for everyday wear. Available in sizes S, M, L, XL.",
                winterJacket: "Warm winter jacket made of waterproof material. Excellent protection from cold and wind. Features deep pockets and a hood.",
                tshirt: "A comfortable and soft t-shirt made of natural cotton. A great option for summer walks. Available in various colors.",
                backpack: "A stylish and spacious backpack, perfect for school and travel. It has a laptop compartment and several outer pockets.",
                scarf: "A soft and warm scarf that will add elegance to your look. Made from a wool blend. Available in three colors.",
                gloves: "Warm knitted woolen gloves. Provide comfort and warmth in cold weather.",
                coat: "An elegant men's coat with a classic cut. The perfect choice for autumn and spring days.",
                dress: "A light summer dress made of natural linen. A comfortable and stylish option for any occasion.",
            },
            sortByDefault: 'Default', sortByPriceAsc: 'Price (low to high)',
            sortByPriceDesc: 'Price (high to low)', filterAll: 'All', filterMen: 'Men',
            filterWomen: 'Women', reviewsTitle: 'Reviews', submitReviewBtn: 'Submit Review',
            footer: '© 2025 Maroko. All rights reserved.',
            topDealsTitle: 'Top Deals',
            colorOption: 'Color:',
            sizeOption: 'Size:',
            sizeNotSelected: 'Please select a size.',
            colorNotSelected: 'Please select a color.',
            addedToCart: ' added to cart!'
        }
    };

    
    document.addEventListener('DOMContentLoaded', () => {
        productsData = Array.from(document.querySelectorAll('.product')).map(el => ({
            id: el.getAttribute('data-id'),
            name: el.getAttribute('data-name'),
            price: parseInt(el.getAttribute('data-price'), 10),
            category: el.getAttribute('data-category'),
            element: el,
            image: el.querySelector('img').src,
            desc: translations.uk.productDesc[el.getAttribute('data-i18n-name')] || '',
            options: {
                jeans: {
                    colors: ['#2e4053', '#5d6d7e', '#aeb6bf'],
                    sizes: ['S', 'M', 'L', 'XL']
                },
                winterJacket: {
                    colors: ['#000000', '#566573', '#9b59b6'],
                    sizes: ['S', 'M', 'L', 'XL', 'XXL']
                },
                tshirt: {
                    colors: ['#fef9e7', '#f1c40f', '#d35400', '#1abc9c'],
                    sizes: ['XS', 'S', 'M', 'L']
                },
                backpack: {
                    colors: ['#17202a', '#4a235a', '#5499c7'],
                    sizes: ['OS']
                },
                scarf: {
                    colors: ['#b03a2e', '#e67e22', '#f4d03f'],
                    sizes: ['OS']
                },
                gloves: {
                    colors: ['#17202a', '#616a6b', '#c0392b'],
                    sizes: ['S', 'M', 'L']
                },
                coat: {
                    colors: ['#34495e', '#797d7f', '#2c3e50'],
                    sizes: ['S', 'M', 'L', 'XL']
                },
                dress: {
                    colors: ['#f7dc6f', '#f5b041', '#a569bd'],
                    sizes: ['XS', 'S', 'M', 'L']
                },
            }
        }));
        updateWishlistCount();
        setLanguage('uk');
    });

    function setLanguage(lang) {
        const elements = document.querySelectorAll('[data-i18n]');
        const placeholders = document.querySelectorAll('[data-i18n-placeholder]');
        const prefixes = document.querySelectorAll('[data-i18n-prefix]');
        const htmlElements = document.querySelectorAll('[data-i18n-html]');
        const langBtns = document.querySelectorAll('.lang-btn');

        elements.forEach(el => {
            const key = el.getAttribute('data-i18n');
            if (translations[lang][key]) {
                el.innerText = translations[lang][key];
            }
        });
        placeholders.forEach(el => {
            const key = el.getAttribute('data-i18n-placeholder');
            if (translations[lang][key]) {
                el.placeholder = translations[lang][key];
            }
        });
        prefixes.forEach(el => {
            const key = el.getAttribute('data-i18n-prefix');
            if (translations[lang][key]) {
                const originalText = el.innerText.split(' ');
                const originalPrice = originalText[originalText.length - 1];
                el.innerText = `${translations[lang][key]} ${originalPrice}`;
            }
        });
        htmlElements.forEach(el => {
            const key = el.getAttribute('data-i18n-html');
            if (translations[lang][key]) {
                el.innerHTML = translations[lang][key];
            }
        });
        const productElements = document.querySelectorAll('.product');
        productElements.forEach(product => {
            const key = product.getAttribute('data-i18n-name');
            if (translations[lang][key]) {
                product.setAttribute('data-name', translations[lang][key]);
                product.querySelector('h3').innerText = translations[lang][key];
            }
        });
        langBtns.forEach(btn => {
            btn.classList.remove('active');
            if (btn.getAttribute('data-lang') === lang) {
                btn.classList.add('active');
            }
        });
        document.querySelector('#sortSelect').querySelector('option[value="default"]').innerText = translations[lang].sortByDefault;
        document.querySelector('#sortSelect').querySelector('option[value="price-asc"]').innerText = translations[lang].sortByPriceAsc;
        document.querySelector('#sortSelect').querySelector('option[value="price-desc"]').innerText = translations[lang].sortByPriceDesc;
        document.querySelectorAll('#productControls button')[0].innerText = translations[lang].filterAll;
        document.querySelectorAll('#productControls button')[1].innerText = translations[lang].filterMen;
        document.querySelectorAll('#productControls button')[2].innerText = translations[lang].filterWomen;
        document.querySelector('#hero h1').innerText = translations[lang].heroTitle;
        document.querySelector('#hero p').innerText = translations[lang].heroSubtitle;
        document.querySelector('.hero-btn').innerText = translations[lang].heroBtn;
        document.querySelector('#newsletter h2').innerText = translations[lang].newsletterTitle;
        document.querySelector('#newsletter p').innerText = translations[lang].newsletterSubtitle;
        document.querySelector('#newsletter input[type="email"]').placeholder = translations[lang].newsletterPlaceholder;
        document.querySelector('#newsletter button').innerText = translations[lang].subscribeBtn;

        renderCart();
        renderWishlist();
        if (currentProduct) {
            openProductDetail(currentProduct.id);
        }
    }

    const langBtns = document.querySelectorAll('.lang-btn');
    langBtns.forEach(btn => {
        btn.addEventListener('click', () => {
            setLanguage(btn.getAttribute('data-lang'));
        });
    });

    
    const searchInput = document.getElementById("searchInput");
    searchInput.addEventListener("input", () => {
        filterAndSortProducts();
    });

    
    document.querySelectorAll('#productControls button').forEach(button => {
        button.addEventListener('click', (e) => {
            document.querySelectorAll('#productControls button').forEach(btn => btn.classList.remove('active'));
            e.target.classList.add('active');
            filterAndSortProducts();
        });
    });

    
    document.getElementById('sortSelect').addEventListener('change', () => {
        filterAndSortProducts();
    });

    function filterAndSortProducts() {
        const query = searchInput.value.toLowerCase().trim();
        const activeFilter = document.querySelector('#productControls button.active').getAttribute('data-filter');
        const sortValue = document.getElementById('sortSelect').value;

        productsData.forEach(product => {
            const isMatch = (translations.uk[product.id].toLowerCase().includes(query) || translations.en[product.id].toLowerCase().includes(query))
                && (activeFilter === 'all' || product.category === activeFilter);
            product.element.style.display = isMatch ? "block" : "none";
        });

        const visibleProducts = productsData.filter(p => p.element.style.display !== "none");

        visibleProducts.sort((a, b) => {
            if (sortValue === 'price-asc') {
                return a.price - b.price;
            } else if (sortValue === 'price-desc') {
                return b.price - a.price;
            }
            return 0;
        });

        const productGrid = document.getElementById('productGrid');
        productGrid.innerHTML = '';
        visibleProducts.forEach(p => productGrid.appendChild(p.element));
    }

    
    function openProductDetail(productId) {
        const product = productsData.find(p => p.id === productId);
        if (!product) return;
        currentProduct = product;

        const lang = document.querySelector('.lang-btn.active').getAttribute('data-lang');
        document.getElementById('productDetailTitle').innerText = translations[lang][product.id];
        document.getElementById('productDetailImage').src = product.image;
        document.getElementById('productDetailPrice').innerText = `${product.price} грн`;
        document.getElementById('productDetailDesc').innerText = translations[lang].productDesc[product.id];

        
        const colorsContainer = document.getElementById('productDetailColors');
        colorsContainer.innerHTML = '';
        if (product.options[productId].colors) {
            product.options[productId].colors.forEach(color => {
                const colorBtn = document.createElement('div');
                colorBtn.className = 'color-option';
                colorBtn.style.backgroundColor = color;
                colorBtn.onclick = () => selectColor(color);
                colorsContainer.appendChild(colorBtn);
            });
        }

        const sizesContainer = document.getElementById('productDetailSizes');
        sizesContainer.innerHTML = '';
        if (product.options[productId].sizes) {
            product.options[productId].sizes.forEach(size => {
                const sizeBtn = document.createElement('div');
                sizeBtn.className = 'size-option';
                sizeBtn.innerText = size;
                sizeBtn.onclick = () => selectSize(size);
                sizesContainer.appendChild(sizeBtn);
            });
        }

        document.getElementById('productDetailAddToCartBtn').onclick = () => {
            const selectedSizeElement = document.querySelector('.size-option.active');
            const selectedColorElement = document.querySelector('.color-option.active');
            if (!selectedSizeElement) {
                alert(translations[lang].sizeNotSelected);
                return;
            }
            if (!selectedColorElement && product.options[productId].colors.length > 0) {
                alert(translations[lang].colorNotSelected);
                return;
            }
            addToCart(product.id, selectedSizeElement.innerText, selectedColorElement ? selectedColorElement.style.backgroundColor : null);
        };

        renderReviews(product.id);
        openModal('productDetailModal');
    }

    function selectSize(size) {
        document.querySelectorAll('.size-option').forEach(el => el.classList.remove('active'));
        const selected = document.querySelector(`.size-option[onclick="selectSize('${size}')"]`);
        if (selected) {
            selected.classList.add('active');
            selectedSize = size;
        }
    }

    function selectColor(color) {
        document.querySelectorAll('.color-option').forEach(el => el.classList.remove('active'));
        const selected = document.querySelector(`.color-option[style="background-color: ${color};"]`);
        if (selected) {
            selected.classList.add('active');
            selectedColor = color;
        }
    }

    
    function renderReviews(productId) {
        const reviewsList = document.getElementById('reviewsList');
        reviewsList.innerHTML = '';
        const reviews = productReviews[productId] || [];
        const lang = document.querySelector('.lang-btn.active').getAttribute('data-lang');

        if (reviews.length === 0) {
            reviewsList.innerHTML = `<p>${lang === 'uk' ? 'Ще немає відгуків. Будьте першим!' : 'No reviews yet. Be the first!'}</p>`;
        } else {
            reviews.forEach(review => {
                const reviewItem = document.createElement('div');
                reviewItem.classList.add('review-item');
                const stars = '★'.repeat(review.rating) + '☆'.repeat(5 - review.rating);
                reviewItem.innerHTML = `
                    <strong>${review.name}</strong>
                    <div class="rating-stars">${stars}</div>
                    <p>${review.comment}</p>
                `;
                reviewsList.appendChild(reviewItem);
            });
        }
    }

    function submitReview(event) {
        event.preventDefault();
        const reviewerName = document.getElementById('reviewerName').value;
        const reviewerComment = document.getElementById('reviewerComment').value;
        const rating = document.querySelector('input[name="review-rating"]:checked');

        if (!reviewerName || !reviewerComment || !rating) {
            alert('Будь ласка, заповніть усі поля');
            return;
        }

        const newReview = {
            name: reviewerName,
            comment: reviewerComment,
            rating: parseInt(rating.value)
        };

        const productId = currentProduct.id;
        if (!productReviews[productId]) {
            productReviews[productId] = [];
        }
        productReviews[productId].push(newReview);
        localStorage.setItem('productReviews', JSON.stringify(productReviews));

        renderReviews(productId);
        document.querySelector('.review-form').reset();
    }

    
    function addToCart(productId, size, color) {
        const product = productsData.find(p => p.id === productId);
        if (!product) return;

        const name = product.name;
        const price = product.price;
        const uniqueId = `${name}-${size}-${color}`;

        if (cart[uniqueId]) {
            cart[uniqueId].qty++;
        } else {
            cart[uniqueId] = {
                name: name,
                price: price,
                qty: 1,
                size: size,
                color: color
            };
        }
        updateCartCount();
        closeModal('productDetailModal');
        const currentLang = document.querySelector('.lang-btn.active').getAttribute('data-lang');
        alert(`${name}${translations[currentLang].addedToCart}`);
    }

    function updateCartCount() {
        const count = Object.values(cart).reduce((acc, item) => acc + item.qty, 0);
        document.getElementById("cartCount").innerText = count;
    }

    function renderCart() {
        const cartItemsDiv = document.getElementById("cartItems");
        cartItemsDiv.innerHTML = "";
        const keys = Object.keys(cart);
        const currentLang = document.querySelector('.lang-btn.active').getAttribute('data-lang');

        if (keys.length === 0) {
            cartItemsDiv.innerHTML = `<p class="empty-cart" data-i18n="emptyCart">${translations[currentLang].emptyCart}</p>`;
            document.getElementById("orderTotal").innerText = "";
            document.getElementById("orderBtn").style.display = "none";
            return;
        }

        keys.forEach(key => {
            const item = cart[key];
            const itemDiv = document.createElement("div");
            itemDiv.setAttribute("role", "group");
            itemDiv.setAttribute("aria-label", `${item.name}, ціна ${item.price} гривень, кількість ${item.qty}`);
            itemDiv.innerHTML = `
                <span>${item.name} (${item.size})</span>
                <span>${item.price} грн</span>
                <div class="qty-controls" aria-label="Кількість ${item.name}">
                    <button aria-label="Зменшити кількість" onclick="changeQty('${key}', -1)">−</button>
                    <span>${item.qty}</span>
                    <button aria-label="Збільшити кількість" onclick="changeQty('${key}', 1)">+</button>
                </div>
                <span>${item.price * item.qty} грн</span>
            `;
            cartItemsDiv.appendChild(itemDiv);
        });

        const total = keys.reduce((acc, key) => acc + cart[key].price * cart[key].qty, 0);
        document.getElementById("orderTotal").innerText = `${translations[currentLang].total} ${total} грн`;
        document.getElementById("orderBtn").style.display = "block";
    }

    function changeQty(key, delta) {
        if (!cart[key]) return;
        cart[key].qty += delta;
        if (cart[key].qty <= 0) {
            delete cart[key];
        }
        updateCartCount();
        renderCart();
    }

    function placeOrder() {
        if (Object.keys(cart).length === 0) {
            alert("Корзина порожня!");
            return;
        }
        openModal("ratingModal");
        for (const key in cart) {
            delete cart[key];
        }
        updateCartCount();
        closeModal("cartModal");
    }

    
    function toggleWishlist(button, productId) {
        const product = productsData.find(p => p.id === productId);
        if (!product) return;

        if (wishlist[productId]) {
            delete wishlist[productId];
        } else {
            wishlist[productId] = product;
        }

        localStorage.setItem('wishlist', JSON.stringify(wishlist));
        updateWishlistCount();
        renderWishlist();
    }

    function updateWishlistCount() {
        const count = Object.keys(wishlist).length;
        document.getElementById("wishlistCount").innerText = count;
        document.querySelectorAll('.wishlist-btn').forEach(btn => {
            const id = btn.parentNode.getAttribute('data-id');
            const icon = btn.querySelector('i');
            if (wishlist[id]) {
                icon.classList.remove('fa-regular');
                icon.classList.add('fa-solid');
                btn.classList.add('active');
            } else {
                icon.classList.remove('fa-solid');
                icon.classList.add('fa-regular');
                btn.classList.remove('active');
            }
        });
    }

    function renderWishlist() {
        const wishlistItemsDiv = document.getElementById("wishlistItems");
        wishlistItemsDiv.innerHTML = "";
        const keys = Object.keys(wishlist);
        const currentLang = document.querySelector('.lang-btn.active').getAttribute('data-lang');

        if (keys.length === 0) {
            wishlistItemsDiv.innerHTML = `<p class="empty-wishlist" data-i18n="emptyWishlist">${translations[currentLang].emptyWishlist}</p>`;
            return;
        }

        keys.forEach(id => {
            const product = wishlist[id];
            const itemDiv = document.createElement("div");
            itemDiv.innerHTML = `
                <span>${translations[currentLang][id]}</span>
                <span>${product.price} грн</span>
                <button class="remove-from-wishlist" onclick="toggleWishlist(this, '${id}')">Видалити</button>
            `;
            wishlistItemsDiv.appendChild(itemDiv);
        });
    }

    
    function openModal(modalId) {
        document.getElementById(modalId).style.display = "block";
        if (modalId === "cartModal") {
            renderCart();
        } else if (modalId === "wishlistModal") {
            renderWishlist();
        }
    }

    function closeModal(modalId) {
        document.getElementById(modalId).style.display = "none";
    }

    window.onclick = function (event) {
        const modals = ["supportModal", "cartModal", "ratingModal", "productDetailModal", "wishlistModal"];
        modals.forEach(id => {
            const modal = document.getElementById(id);
            if (event.target === modal) {
                closeModal(id);
            }
        });
    };

    function submitSupport(event) {
        event.preventDefault();
        const currentLang = document.querySelector('.lang-btn.active').getAttribute('data-lang');
        document.getElementById("supportMessage").innerText = translations[currentLang].thankYouForSupport;
        document.getElementById("supportRatingContainer").style.display = "block";
        document.getElementById("supportForm").style.display = "none";
    }

    const supportRatingInputs = document.querySelectorAll('#supportRatingContainer .rating input');
    supportRatingInputs.forEach(input => {
        input.addEventListener('change', (e) => {
            const rating = e.target.value;
            const currentLang = document.querySelector('.lang-btn.active').getAttribute('data-lang');
            let message = translations[currentLang].thankYouForRating;
            message = message.replace('{rating}', rating);
            document.getElementById('supportMessage').innerText = message;
            setTimeout(() => closeModal('supportModal'), 1500);
        });
    });

    const ratingInputs = document.querySelectorAll('#ratingModal .rating input');
    ratingInputs.forEach(input => {
        input.addEventListener('change', (e) => {
            const rating = e.target.value;
            const currentLang = document.querySelector('.lang-btn.active').getAttribute('data-lang');
            let message = translations[currentLang].thankYouForRating;
            message = message.replace('{rating}', rating);
            document.getElementById('ratingMessage').innerText = message;
            setTimeout(() => {
                closeModal('ratingModal');
                ratingInputs.forEach(r => r.checked = false);
                document.getElementById('ratingMessage').innerText = "";
            }, 1500);
        });
    });

    
    let prevScrollPos = window.pageYOffset;
    const header = document.querySelector("header");
    window.onscroll = function() {
        let currentScrollPos = window.pageYOffset;
        if (prevScrollPos > currentScrollPos) {
            header.style.top = "0";
        } else {
            header.style.top = `-${header.offsetHeight}px`;
        }
        if (currentScrollPos > 50) {
            header.classList.add('header-scrolled');
        } else {
            header.classList.remove('header-scrolled');
        }
        prevScrollPos = currentScrollPos;
    }
</script>

</body>
</html>